<section class="container mt-5 ">
    <input [(ngModel)]="text" type="search" placeholder="Search by Name...." class="form-control w-50  my-5 mx-auto">

    <div class="row gy-4">

        
        @for (item of allProduct |search:text; track item._id) {
            <div class="col-md-3 product border-0 ">
                <div class="card   cr"  [routerLink]="['/details',item._id]">
                
                    <div class="card-img">
    

    
                        <div class="">
                            <img [src]="item.imageCover" height="400px" [alt]="item.slug" class="w-100">
                        </div>
                        
                        <h1 class="card-title h5 text-center text-main">{{item.title  | termtext:2
                        }}</h1>
    
    
                    </div>
    
                    <div class="card-body d-flex justify-content-evenly align-items-center p-3 ">
                        <div class="">
                            <h5 class="card-title text-center">price {{item.price}} </h5>
                           
                        </div>
                        
                        <div class="">
                            @for (num of [1,2,3,4,5].slice(0,item.ratingsAverage); track $index) {
                            <span>
                                <i class="fas fa-star rating-color"></i>
                            </span>
                            }
                            @if (item.ratingsAverage%1!==0) {
                            <i class="fas fa-star-half-stroke rating-color"></i>
                            }
                            <span class="text-muted">{{item.ratingsAverage}}</span>
                        </div>
    
                    </div>
       


                </div>
                

                <div class="card-footer p-4 d-flex justify-content-between align-items-center ">
                    <h5 class="card-title text-center">{{item.category.name}}</h5>
                    <span><i (click)="addWishList(item._id)" class="fas fa-heart cr "  ></i></span>

</div>

                <button (click)="addCart(item._id)" class="btn-main w-100">Add To Cart</button>

            </div>

        }
       
    </div>
</section>